(window.webpackJsonppidtchay_project=window.webpackJsonppidtchay_project||[]).push([[64],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o}));var a=n(0),r=n(37);function c(){var e=Object(a.useState)(!0),t=e[0],n=e[1],c=Object(r.d)((function(e){return e.literals}));return Object(a.useEffect)((function(){Object.keys(c).length>0&&n(!1)}),[c,t]),{isLoading:t,getValue:function(e){var t,n=e.split(".");return t=c,n.reduce((function(e,t){return e&&e[t]?e[t]:null}),t)}}}function u(e,t){var n=Object(a.useRef)(null),c=Object(r.c)();return[Object(a.useCallback)((function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];n.current&&clearTimeout(n.current),n.current=setTimeout((function(){return c(e.apply(void 0,a))}),t)}),[t])]}function o(e,t){var n=Object(a.useRef)(null);return[Object(a.useCallback)((function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];n.current&&clearTimeout(n.current),n.current=setTimeout((function(){return e.apply(void 0,a)}),t)}),[t])]}},24:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(552),r=function(e){var t=e.description,n=e.type,r=e.title;a.a[n]({message:r,description:t})};function c(e,t){var n,a=t.split(".");return n=e,a.reduce((function(e,t){return e&&e[t]?e[t]:null}),n)}var u=function(e){return Array.isArray(e)?e.join(""):e}},25:function(e,t,n){"use strict";var a,r;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e.LIST="LIST",e.CREATE="CREATE",e.UPDATE="UPDATE"}(a||(a={})),function(e){e.HEADER="#",e.BOLD="****",e.ITALIAN="**",e.STRIKETHROUGH="~~~~",e.BLOCK_QUOTE=">",e.BLOCK_CODE="```\n\n```",e.BLOCK_TABLE="| ColumnName1 | ColumnName2 |\n| --------- | ------- |\n| Value1 | Value2 |\n"}(r||(r={}))},41:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u}));var a,r={nickName:"T0mas3dison",email:"tom_lightbulb@edison.com",password:"l1ght6ul6"};!function(e){e.EN="en",e.RU="ru"}(a||(a={}));var c="MM/DD/YYYY HH:mm:ss",u=300},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l}));var a=n(69);function r(e){return{type:a.a,payload:e}}function c(e){return{type:a.e,payload:e}}function u(e){return{type:a.b,payload:e}}function o(e){return{type:a.c,payload:e}}function l(e){return{type:a.d,payload:e}}},519:function(e,t,n){e.exports={markdownInput:"markdownInput__3c1SE"}},520:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(70),r=function(e,t,n,a){return new(n||(n=Promise))((function(r,c){function u(e){try{l(a.next(e))}catch(e){c(e)}}function o(e){try{l(a.throw(e))}catch(e){c(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,o)}l((a=a.apply(e,t||[])).next())}))},c=function(e,t){var n,a,r,c,u={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(c){return function(o){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,a&&(r=2&c[0]?a.return:c[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,c[1])).done)return r;switch(a=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,a=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!(r=u.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){u=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){u.label=c[1];break}if(6===c[0]&&u.label<r[1]){u.label=r[1],r=c;break}if(r&&u.label<r[2]){u.label=r[2],u.ops.push(c);break}r[2]&&u.ops.pop(),u.trys.pop();continue}c=t.call(e,u)}catch(e){c=[6,e],a=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,o])}}};function u(){var e=this,t=a.enc.Hex.parse("0jioj12e-9dj902j1jej01jfj2j10jej10"),n=a.enc.Hex.parse("10111121315161718aeds2f43g3t321"),u=function(e){return Object(a.PBKDF2)(e,t,{keySize:8,iterations:1e3})},o={iv:n,padding:a.pad.Pkcs7,mode:a.mode.CBC};return{encryptMessage:function(t,n){return r(e,void 0,void 0,(function(){var e;return c(this,(function(r){switch(r.label){case 0:return e=u(n),[4,a.AES.encrypt(t,e,o).toString()];case 1:return[2,r.sent()]}}))}))},decryptMessage:function(t,n){return r(e,void 0,void 0,(function(){var e;return c(this,(function(r){switch(r.label){case 0:return e=u(n),[4,a.AES.decrypt(t,e,o).toString(a.enc.Utf8)];case 1:return[2,r.sent()]}}))}))}}}},522:function(e,t,n){e.exports={reactMarkdownContainer:"reactMarkdownContainer__2S-Wo"}},523:function(e,t,n){e.exports={markdownNote:"markdownNote__12215"}},560:function(e,t,n){"use strict";n.r(t),n.d(t,"MarkdownNotes",(function(){return z}));var a=n(407),r=n(218),c=n(26),u=n(0),o=n.n(u),l=n(37),i=n(41),s=n(939),f=n(1002),d=n(1012),p=n(914),E=n(2),m=n.n(E),b=n(186),O=n(1017),v=n(1018),j=n(1022),y=n(1024),g=n(1026),h=n(1016),k=n(25),w=function(e){var t=e.onSetTextValue,n=function(e){t(e)};return o.a.createElement(a.a,{gutter:[16,16]},o.a.createElement(r.a,null,o.a.createElement(c.a,{onClick:function(){return n(k.b.HEADER)}},"H")),o.a.createElement(r.a,null,o.a.createElement(c.a,{onClick:function(){return n(k.b.BOLD)},icon:o.a.createElement(j.a,null)})),o.a.createElement(r.a,null,o.a.createElement(c.a,{onClick:function(){return n(k.b.ITALIAN)},icon:o.a.createElement(y.a,null)})),o.a.createElement(r.a,null,o.a.createElement(c.a,{onClick:function(){return n(k.b.STRIKETHROUGH)},icon:o.a.createElement(g.a,null)})),o.a.createElement(r.a,null,o.a.createElement(c.a,{onClick:function(){return n(k.b.BLOCK_QUOTE)}},"Q")),o.a.createElement(r.a,null,o.a.createElement(c.a,{onClick:function(){return n(k.b.BLOCK_CODE)}},"C")),o.a.createElement(r.a,null,o.a.createElement(c.a,{onClick:function(){return n(k.b.BLOCK_TABLE)},icon:o.a.createElement(h.a,null)})))},T={currentNote:null,notes:[{id:Object(b.uuid)(),createDate:m()(new Date).format(i.a),title:"Title",text:"First note"}],step:k.a.LIST,markdownText:""},C=o.a.createContext(T),S=n(45),N=n(519),x=n.n(N),M=n(24),A=n(10),D=n(520);function _(e){if(void 0===e)return{start:null,end:null,length:null};var t=e.selectionStart,n=e.selectionEnd;return{start:t,end:n,length:n-t}}var P=s.a.Title,R=function(){var e,t,n,l=Object(A.a)().getValue,s=Object(u.useContext)(C),E=s.currentNote,j=s.dispatch,y=Object(u.useRef)(),g=Object(u.useRef)(E?E.createDate:m()(new Date).format(i.a)),h=(e=y,t=Object(u.useRef)({start:null,end:null}),n=e.current,{getLastSelection:Object(u.useCallback)((function(){return t.current}),[]),setSelection:Object(u.useCallback)((function(e){!function(e,t,n){null==n&&(n=t),void 0!==e&&"function"==typeof e.setSelectionRange&&e.setSelectionRange(t,n)}(n,e.start,e.end),t.current=_(n)}),[n,_])}).setSelection,T=function(e){var t=e,n=Object(u.useState)((null==t?void 0:t.title)||""),a=n[0],r=n[1],c=Object(u.useState)((null==t?void 0:t.text)||k.b.HEADER+" "),o=c[0],l=c[1],i=Object(u.useState)(""),s=i[0],f=i[1],d=function(e,t){void 0===t&&(t="");var n=e.split("\n"),c=n[0].length<=120?n[0]:n[0].substring(0,120);c!==a&&r(c),l(e),f(t)};return{noteText:o,currentSyntax:s,title:a,changeValue:d,changeMarkdownSyntax:function(e){d(""+o+e,e)}}}(E),N=T.noteText,R=T.currentSyntax,I=T.title,L=T.changeValue,B=T.changeMarkdownSyntax,H=Object(D.a)(),V=H.encryptMessage,K=H.decryptMessage,U=Object(u.useState)(""),Y=U[0],G=U[1],Q=Object(u.useState)(!1),W=Q[0],F=Q[1],J=Object(u.useState)(!1),z=J[0],X=J[1],q=Object(u.useState)(!1),Z=q[0],$=q[1],ee=Object(u.useState)(!1),te=ee[0],ne=ee[1];Object(u.useEffect)((function(){if(y&&y.current){var e,t=y.current,n=t.selectionStart,a=t.selectionEnd,r=1===(e=R).length?{type:"plus",spaces:1}:2===e.length||4===e.length||6===e.length||8===e.length?{type:"minus",spaces:e.length/2}:{type:"plus",spaces:0};h("plus"===r.type?{start:n+r.spaces,end:a+r.spaces}:{start:n-r.spaces,end:a-r.spaces}),y.current.focus()}}),[N,R]),Object(u.useEffect)((function(){Z&&ae()}),[Z,N]);var ae=function(){E?(j(Object(S.e)(N)),j(Object(S.b)(null))):j(Object(S.a)({id:Object(b.uuid)(),createDate:g.current,title:I||N.split("\n")[0],text:N,isEncrypted:Z})),j(Object(S.c)(k.a.LIST)),j(Object(S.d)(""))},re=function(){return F(!0)};return o.a.createElement(r.a,{span:10},o.a.createElement(a.a,{gutter:[16,16]},o.a.createElement(P,{level:2},l("Pages.Markdown.MarkdownInput.title"))),o.a.createElement(a.a,{gutter:[16,16]},o.a.createElement(r.a,null,""+l("Pages.Markdown.MarkdownInput.createDate")+g.current)),o.a.createElement(w,{onSetTextValue:B}),o.a.createElement(a.a,{gutter:[16,16]},o.a.createElement("textarea",{className:x.a.markdownInput,ref:y,value:N,rows:10,onChange:function(e){return t=e.target.value,L(t),void j(Object(S.d)(t));var t}})),o.a.createElement(a.a,{gutter:[16,16]},o.a.createElement(r.a,null,o.a.createElement(f.a,{onChange:function(){return X(!z)},checkedChildren:o.a.createElement(O.a,null),unCheckedChildren:o.a.createElement(v.a,null),checked:z}))),o.a.createElement(a.a,{gutter:[16,16]},o.a.createElement(r.a,null,o.a.createElement(c.a,{type:"primary",onClick:z?re:ae},l("ACTIONS.save"))),(null==E?void 0:E.isEncrypted)&&!te&&o.a.createElement(r.a,null,o.a.createElement(c.a,{onClick:re},"Decrypt"))),o.a.createElement(a.a,null,o.a.createElement(d.a,{title:l("Pages.Markdown.MarkdownInput.Note.passPhrase.title"),visible:W,onOk:function(){Y?(!te&&(null==E?void 0:E.isEncrypted)?K(N,Y).then((function(e){e&&""!==e?(L(e),j(Object(S.d)(e)),ne(!te)):Object(M.c)({description:Object(M.a)(l("Notification.crypto.description")),title:Object(M.a)(l("Notification.crypto.title")),type:"error"})})):V(N,Y).then((function(e){L(e),$(!Z)})),F(!1)):Object(M.c)({description:Object(M.a)(l("Notification.passPhrase.description")),title:Object(M.a)(l("Notification.passPhrase.title")),type:"error"})},onCancel:function(){return F(!1)}},o.a.createElement(p.a.Password,{onChange:function(e){return G(e.target.value)},placeholder:Object(M.a)(l("Pages.Markdown.MarkdownInput.Note.passPhrase.placeholder"))}))))};R.displayName="MarkdownNoteEdit";var I=n(152),L=n.n(I),B=n(522),H=n.n(B),V=s.a.Title,K=function(){var e=Object(A.a)().getValue,t=Object(u.useContext)(C).markdownText;return o.a.createElement(r.a,{offset:2,span:10},o.a.createElement(a.a,{gutter:[16,16]},o.a.createElement(V,{level:2},e("Pages.Markdown.MarkdownPreview.title"))),o.a.createElement(a.a,{gutter:[16,16]},o.a.createElement("div",{className:H.a.reactMarkdownContainer},o.a.createElement(L.a,{source:t}))))};K.displayName="MarkdownNotePreview";var U=s.a.Title,Y=function(){var e=Object(A.a)().getValue;return o.a.createElement(r.a,{span:24},o.a.createElement(a.a,{gutter:[16,16]},o.a.createElement(U,{level:1},e("Pages.Markdown.page_title"))),o.a.createElement(a.a,{gutter:[16,16]},o.a.createElement(R,null),o.a.createElement(K,null)))};Y.displayName="MarkdownNoteEditor";var G=n(523),Q=n.n(G),W=function(e){var t=e.note,n=Object(u.useContext)(C).dispatch,a=Object(A.a)().getValue;return o.a.createElement("div",{className:Q.a.markdownNote},o.a.createElement("p",null,t.createDate),o.a.createElement(L.a,{source:t.title}),o.a.createElement(L.a,{source:t.text.split(t.title).filter(Boolean).join("")}),o.a.createElement("div",null,o.a.createElement(c.a,{type:"primary",onClick:function(){n(Object(S.b)(t)),n(Object(S.c)(k.a.UPDATE))}},a("ACTIONS.edit"))))},F=function(){var e=Object(u.useContext)(C).notes;return o.a.createElement(r.a,{span:24},e.map((function(e,t){return o.a.createElement(W,{key:t,note:e})})))},J=function(){return(J=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},z=function(){var e,t=Object(l.d)((function(e){return e.markdownNotes})),n=Object(A.b)(S.c,i.c)[0],u=Object(l.c)(),s=Object(A.a)().getValue,f=null!==(e=t.currentNote)&&void 0!==e?e:t.step!==k.a.LIST;return o.a.createElement(C.Provider,{value:J(J({},t),{dispatch:u})},!f&&o.a.createElement(a.a,{gutter:[16,16]},o.a.createElement(r.a,null,o.a.createElement(c.a,{type:"primary",onClick:function(){n(k.a.CREATE)}},s("ACTIONS.add")))),o.a.createElement(a.a,{gutter:[16,16]},f?o.a.createElement(Y,null):o.a.createElement(F,null)))}},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return o}));var a="CREATE_NOTE",r="SET_CURRENT_NOTE",c="UPDATE_NOTE",u="SET_MARKDOWD_STEP",o="SET_MARKDOWD_TEXT"}},[[560,83,3,1,5,2,8,4,7,0,6,9,10,16,13,12,14,18,17,15,11,63,55,61,59,58,57,60,56,68,62,70,67,54,65,66,72,69,71]]]);